# Migration `20191116220511-add-auth0id`

This migration has been generated by cdeon at 11/16/2019, 10:05:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "auth0Id" text   ;

CREATE UNIQUE INDEX "User.auth0Id" ON "public"."User"("auth0Id")
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20191111183740-remove-section-unicity..20191116220511-add-auth0id
--- datamodel.dml
+++ datamodel.dml
@@ -3,14 +3,15 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model User {
   id          String       @default(cuid()) @id
   slug        String       @unique
+  auth0Id     String?      @unique
   createdAt   DateTime     @default(now())
   firstname   String
   pictureUrl  String
   biography   String
@@ -77,5 +78,5 @@
   article
   podcast
   website
   repository
-}
+}
```

## Photon Usage

You can use a specific Photon built for this migration (20191116220511-add-auth0id)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20191116220511-add-auth0id'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
